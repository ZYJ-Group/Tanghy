### 方法对比

| 方法       | 实现范式                         | 输入依赖                                      | 输出用途                       | 核心优势/劣势                                                                 |
|------------|----------------------------------|-----------------------------------------------|--------------------------------|-------------------------------------------------------------------------------|
| **COLMAP** | 优化驱动（SfM + MVS）            | 仅需图像序列（可选初值），内部做关键点匹配、三角化、BA | 相机位姿、稀疏/致密点云           | 成熟稳定、易用开源，但依赖多阶段优化，流程冗长。                             |
| **3dgs**   | 渲染型表示（3D Gaussian Splatting） | 需预先标定的相机位姿与稀疏点云（通常来自 SfM 工具）     | 高效实时新视角合成               | 渲染性能极佳，但不负责几何重建，需外部管线提供几何输入。                     |
| **Dust3r** | 神经网络全回归                     | 仅需图像对或多图，零相机先验                      | 点映射、深度、相机、像素匹配       | 无需相机校准，统一多任务，但视图数增长时需对齐策略维系一致性。               |
| **VGGT**   | 大规模 Transformer 前馈            | 仅需无序图像集合                                | 相机、深度、点映射及点跟踪         | 极速一键重建，多任务齐头并进，往往无需后处理即可媲美或超越优化法。           |

---

### COLMAP 输出文件

| 文件名                   | 类型                     | 主要变量                                                                                                                                                  |
|--------------------------|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|
| `cameras.bin`            | 二进制（little-endian）    | - `CAMERA_ID`：相机唯一 ID<br>- `MODEL`：镜头模型<br>- `WIDTH, HEIGHT`：分辨率<br>- `PARAMS[]`：焦距、主点、畸变系数                                        |
| `images.bin`             | 二进制                    | - `IMAGE_ID`：图像唯一 ID<br>- `QW, QX, QY, QZ`：旋转四元数<br>- `TX, TY, TZ`：平移向量<br>- `CAMERA_ID`：关联相机 ID<br>- `NAME`：图像名<br>- `POINTS2D[]`：二维要点与对应 `POINT3D_ID` |
| `points3D.bin`           | 二进制                    | - `POINT3D_ID`：点云唯一 ID<br>- `X, Y, Z`：三维坐标<br>- `R, G, B`：颜色<br>- `ERROR`：平均重投影误差<br>- `TRACK[]`：观测轨迹 `(IMAGE_ID, POINT2D_IDX)`        |
| `database.db`            | SQLite 数据库             | 表：`cameras`, `images`, `keypoints`, `descriptors`, `matches`, `two_view_geometries`<br>（存储特征、匹配及几何验证中间结果）                                    |
| `project.ini` / `project`| 文本（INI）               | - `[database] database_path`：数据库路径<br>- `[images] image_path`：图像目录<br>- 以及 `feature_extraction`, `matching`, `mapping`, `stereo` 等各模块参数            |

---

### DUSt3R 输出文件

| 文件名                       | 类型                    | 主要变量                                                                                                                     |
|------------------------------|-------------------------|------------------------------------------------------------------------------------------------------------------------------|
| `dust3r_depth_24.npy`        | NumPy 数组 (`.npy`)     | - 深度图 `D_i ∈ ℝ^{H×W}`：每像素深度值                                                                                          |
| `dust3r_confidence_24.npy`   | NumPy 数组 (`.npy`)     | - 置信度图 `C_i ∈ ℝ^{H×W}`：每像素深度预测置信度                                                                                |
| `dust3r_24.ply`              | PLY 点云文件             | - 顶点 `(x, y, z)`：反投影深度形成的点云<br>- 可选 `r, g, b` 颜色<br>- 可选顶点置信度                                             |
| `dust3r_24.json`             | JSON 元数据              | - `focals`: `[f_x, f_y]` 焦距<br>- `poses`: 每视图 `[q_w, q_x, q_y, q_z, t_x, t_y, t_z]`<br>- `image_paths`: 输入图像列表<br>- （可选）`conf_masks`：置信度掩码 |
